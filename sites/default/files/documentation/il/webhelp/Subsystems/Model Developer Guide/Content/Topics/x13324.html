<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-gb" xml:lang="en-gb" data-mc-search-type="Stem" data-mc-help-system-file-name="Model Developer Guide.xml" data-mc-path-to-help-system="../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Custom Modelling in gPROMS|Initialisation Procedures|Reference|The NEXT section">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Advancing Initialisation Procedures of Units</title>
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/GeneralStyles.css" rel="stylesheet" />
        <script src="../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../Model Developer Guide.htm#Topics/x13324.html">Open topic with navigation</a>
        </p>
        <div>
            <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix">You are here: </span><a class="MCBreadcrumbsLink" href="Custom Modelling.htm">Custom Modelling in gPROMS</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="c12654.html">Initialisation Procedures</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="x13175.html">Reference</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="x13291.html">The NEXT section</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Advancing Initialisation Procedures of Units</span>
            </div>
        </div>
        <h1><a name="AEN13324"></a>Advancing Initialisation Procedures of Units</h1>
        <p>If a Model contains Units, then the Initialisation Procedure may control the advancing of steps for any of the Units' Initialisation
 Procedures. The ADVANCE task is used to do this within any of the NEXT sections:</p><pre class="programlisting" xml:space="preserve">NEXT
  ADVANCE <i class="emphasis">unitname</i> ;
  ADVANCE [<i class="emphasis">modelname</i>] ;
END</pre>
        <p>The first line advances the IP of the Unit unitname by one step, where <i class="emphasis">unitname</i> may be the path of a single Unit, an
 array of Units or a slice of an array of Units. The IP of <i class="emphasis">unitname</i> can only be advanced if <i class="emphasis">unitname</i> was
 specified in the USE section.</p>
        <p>The second line advances the IPs of all Units declared as <i class="emphasis">modelname</i> (the brackets [ ] are compulsory and are part of the
 syntax – <i class="emphasis">modelname</i> is not an optional argument in this case).</p>
        <p>When more than one Unit is ADVANCEd in a NEXT section, the appropriate NEXT sections within the Units' IPs are all processed in parallel.
 After the final NEXT section has been ADVANCEd , the next ADVANCE task causes the implicit final step to be performed (if necessary). Any further
 ADVANCEs have no effect on any Units that have completed their final step.</p>
        <p>The COMPLETE task is used to advance all steps (in sequence) of a Unit or group of units and complete their initialisation procedures; its
 syntax is:</p><pre class="programlisting" xml:space="preserve">NEXT
  COMPLETE <i class="emphasis">unitname</i> ;
  COMPLETE [<i class="emphasis">modelname</i>] ;
END</pre>
        <p>Using COMPLETE is equivalent to calling ADVANCE on a Unit (or group of Units of the same Model type) as many times as is necessary to
 complete the initialisation procedure. When more than one COMPLETE task is used in the same NEXT section, the first NEXT section of each Unit that
 has not yet been executed is processed in parallel, then the second and so on until all NEXT sections and explicit final steps have been completed.
 To illustrate this, the following two Initialisation Procedures are equivalent (Unit_1 has one step, Unit_2 has two and so on).</p>
        <div class="informalfigure"><a name="AEN13343"></a><pre class="programlisting" xml:space="preserve">INITIALISATION_PROCEDURE Initialise_flowsheet_using_complete DEFAULT
  USE 
    Stream_Cutter : DEFAULT
    Unit_1 : DEFAULT;
    Unit_2 : DEFAULT;
    Unit_3 : DEFAULT;
    Unit_4 : DEFAULT;
  END

 NEXT # just do the first steps in parallel
   ADVANCE Unit_1;
   ADVANCE Unit_2;
   ADVANCE Unit_3;
   ADVANCE Unit_4;
 END

 NEXT # finish them off (2nd steps in parallel, 3rd and so on)
   COMPLETE Unit_1; 
   COMPLETE Unit_2; 
   COMPLETE Unit_3; 
   COMPLETE Unit_4; 
 END

 NEXT 
   COMPLETE Stream_Cutter; 
 END </pre>
        </div>
        <div class="informalfigure"><a name="AEN13345"></a><pre class="programlisting" xml:space="preserve">INITIALISATION_PROCEDURE Initialise_flowsheet_with_advances DEFAULT
 USE 
   Stream_Cutter : DEFAULT
   Unit_1 : DEFAULT;
   Unit_2 : DEFAULT;
   Unit_3 : DEFAULT;
   Unit_4 : DEFAULT;
 END

 NEXT 
   ADVANCE Unit_1; # Step 1 of Unit_1 
   ADVANCE Unit_2; # Step 1 of Unit_2 
   ADVANCE Unit_3; # Step 1 of Unit_3
   ADVANCE Unit_4; # Step 1 of Unit_4
 END

 NEXT 
   ADVANCE Unit_2; # Step 2 of Unit_2 
   ADVANCE Unit_3; # Step 2 of Unit_3
   ADVANCE Unit_4; # Step 2 of Unit_4
 END

 NEXT 
   ADVANCE Unit_3; # Step 3 of Unit_3
   ADVANCE Unit_4; # Step 3 of Unit_4
 END

 NEXT 
   ADVANCE Unit_4; # Step 4 of Unit_4
 END

 NEXT 
   ADVANCE Stream_Cutter; # Step 1 of Stream_Cutter
 END</pre>
        </div>
        <div>
            <p class="Footer">&#160;</p>
            <p class="Footer">&#160;</p>
            <hr width="100%" size="0" align="center" />
            <p class="Footer">Commercial in confidence</p>
            <p class="Footer">© 2016 Process Systems Enterprise Limited</p>
        </div>
    </body>
</html>