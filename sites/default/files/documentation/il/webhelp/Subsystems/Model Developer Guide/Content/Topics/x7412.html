<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-gb" xml:lang="en-gb" data-mc-search-type="Stem" data-mc-help-system-file-name="Model Developer Guide.xml" data-mc-path-to-help-system="../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Custom Modelling in gPROMS|Controlling the Execution of Model-based Activities|The SOLUTIONPARAMETERS section">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Specifying solver-type algorithmic parameters</title>
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/GeneralStyles.css" rel="stylesheet" />
        <script src="../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../Model Developer Guide.htm#Topics/x7412.html">Open topic with navigation</a>
        </p>
        <div>
            <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix">You are here: </span><a class="MCBreadcrumbsLink" href="Custom Modelling.htm">Custom Modelling in gPROMS</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="c7114.html">Controlling the Execution of Model-based Activities</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="x7176.html">The SOLUTIONPARAMETERS section</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Specifying solver-type algorithmic parameters</span>
            </div>
        </div>
        <h1><a name="AEN7412"></a>Specifying solver-type algorithmic parameters</h1>
        <p>Some of the algorithmic parameters used to configure solvers may be solvers themselves. For example, solving a set of differential and
 algebraic equations typically requires the solution of a number of mathematical sub-problems involving sets of either nonlinear or linear algebraic
 equations. Thus, a differential-algebraic equation solver will normally need to make use of both a nonlinear equation solver and a linear equation
 solver. We will refer to these as the 'sub-solvers' associated with this solver. Some mathematical solvers have built in sub-solvers that they always
 use for their operation. On the other hand, more advanced solvers may allow their users to specify the sub-solver to be used. This can be done via an
 algorithmic parameter. For instance, consider the following extended form of the example specification of the dynamic simulation solver:</p><pre class="programlisting">DASolver := "SRADAU" ["OutputLevel" := 2;
 "AbsoluteTolerance" := 1E-8;
 "Diag" := TRUE;
 "LASolver" := "MA28";
 "InitialisationNLSolver" := "SPARSE";
 "ReinitialisationNLSolver" := "SPARSE"] ;</pre>
        <p>This specifies that the SRADAU solver should use the <a href="x7463.html">MA28</a> solver for the solution of any sets of linear algebraic
 equations that it needs to perform.</p>
        <p>In addition to a sub-solver for linear equations, the SRADAU solver also needs two sub-solvers for nonlinear algebraic equations. One of these
 is used for the initialisation of the dynamic simulation and the other one for re-initialisation following discontinuities. In the above example, we
 are specifying that the <a href="x7626.html">SPARSE</a> solver should be used for both of these tasks. SPARSE is one of the nonlinear algebraic
 equation solvers provided as standard within gPROMS.</p>
        <p>In all cases, note that the value of a solver-type algorithmic parameter (i.e. the name of the sub-solver to be used) needs to be enclosed in
 double quotes. Of course, a sub-solver is itself a solver and may have its own algorithmic parameters that the user may specify. In the above
 example, we may wish to specify a tight convergence tolerance for the initialisation solver and a slightly less tight one for re-initialisation. This
 can be done using the syntax:</p><pre class="programlisting">DASolver := "SRADAU" ["OutputLevel" := 2;
 "AbsoluteTolerance" := 1E-8;
 "Diag" := TRUE;
 "LASolver" := "MA28";
 "InitialisationNLSolver" := "SPARSE" 
 ["ConvergenceTolerance" := 1E-8];
 "ReinitialisationNLSolver" := "SPARSE" 
 ["ConvergenceTolerance" := 1E-7]] ;</pre>
        <p>In fact, some of the sub-solvers may themselves have solver-type parameters. For example, nonlinear equation solvers, such as SPARSE, often
 need to solve sub-problems that involve sets of linear algebraic equations. Again, this can be accommodated within the general syntax presented
 above. For example:</p><pre class="programlisting">DASolver := "SRADAU" ["OutputLevel" := 2;
 "AbsoluteTolerance" := 1E-8;
 "Diag" := TRUE;
 "LASolver" := "MA28";
 "InitialisationNLSolver" := "SPARSE" 
 ["ConvergenceTolerance" := 1E-8;
 "LASolver" := "MA48"];
 "ReinitialisationNLSolver" := "SPARSE" 
 ["ConvergenceTolerance" := 1E-7;
 "LASolver" := "MA28"]] ;</pre>
        <p>specifies that the SPARSE solver used for initialisation should make use of the <a href="x7509.html">MA48</a> linear algebra solver, while
 that used for re-initialisation should employ the MA28 solver. Moreover, MA28 will be used by SRADAU to solve any linear equations systems arising
 outside the initialisation and re-initialisation stages of its operation. The above syntax for specifying and configuring sub-solvers within solvers
 is recursive and can be used to define solver hierarchies with any number of levels. For example, a dynamic optimisation solver can use a
 differential-algebraic equation solver, which in turn can make use of a nonlinear equation solver, which can employ a linear equation solver.</p>
        <div>
            <p class="Footer">&#160;</p>
            <p class="Footer">&#160;</p>
            <hr width="100%" size="0" align="center" />
            <p class="Footer">Commercial in confidence</p>
            <p class="Footer">Â© 2016 Process Systems Enterprise Limited</p>
        </div>
    </body>
</html>