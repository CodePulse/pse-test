<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-gb" xml:lang="en-gb" data-mc-search-type="Stem" data-mc-help-system-file-name="Model Developer Guide.xml" data-mc-path-to-help-system="../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Custom Modelling in gPROMS|Distributed Models">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Declaring Distributed Variables</title>
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../Resources/Stylesheets/GeneralStyles.css" rel="stylesheet" />
        <script src="../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../Model Developer Guide.htm#Topics/x2073.html">Open topic with navigation</a>
        </p>
        <div>
            <div class="nocontent">
                <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="5" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                </div>
            </div>
        </div>
        <h1><a name="AEN2073"></a>Declaring Distributed Variables</h1>
        <p>A Model may involve Variables with different degrees of distribution. For instance, in the tubular reactor example, the temperature of the
 fluid and the concentrations of the various chemical components within the tube are indeed functions of both the radial and axial positions.
 However, the wall temperature is a function only of axial position, while the temperature in the cooling jacket does not vary with spatial
 position at all. Note that all of these variables are also functions of time, as is always the case with Variables in gPROMS.</p>
        <div class="example" data-mc-autonum="&lt;b&gt;Example&lt;/b&gt;"><span class="autonumber"><span><b>Example</b></span></span><a name="AEN2076"></a>
            <p><b>Example 2. Variable section for a Model of a tubular reactor</b>
            </p><pre class="programlisting"># MODEL TubularReactor

 PARAMETER
 ...

 DISTRIBUTION_DOMAIN
 ...

 VARIABLE

 # Reactor temperature
 T AS DISTRIBUTION(Axial,Radial) OF Temperature

 # Concentrations
 C AS DISTRIBUTION(NoComp,Axial,Radial) OF Concentration

 # Feed composition
 Cin AS ARRAY(NoComp) OF Concentration

 # Cooling jacket temperature
 Tc AS Temperature

 ...</pre>
        </div>
        <ul>
            <li value="1">
                <p>Variable <code class="methodname">T</code>, which represents the temperature in the reactor, is declared as a
        <code class="methodname">DISTRIBUTION</code> over the two continuous domains, <code class="methodname">Axial</code> and
        <code class="methodname">Radial</code>.</p>
            </li>
            <li value="2">
                <p>Variable <code class="methodname">C</code>, representing the concentrations of the various components in the reactor, is clearly an array of
 variables distributed over both the radial and axial domains. In gPROMS, an array of distributions is represented by adding one or more extra
 domains to a Distribution. These domains are <i class="emphasis">discrete</i> in nature and they do not need to be declared explicitly in the
        <code class="methodname">DISTRIBUTION_DOMAIN</code> section - a simple integer expression in the <code class="methodname">VARIABLE</code> declaration
 suffices.</p>
            </li>
            <li value="3">
                <p>For example, the concentration variable <code class="methodname">C</code> ranges from <code class="methodname">1</code> to
        <code class="methodname">NoComp</code>, the number of components in the system), as well as over the two <i class="emphasis">continuous domains</i>,
        <code class="methodname">Axial</code> and <code class="methodname">Radial</code>.</p>
            </li>
            <li value="4">
                <p>Variable <code class="methodname">Cin</code>, representing the concentrations of the various components in the feed, is distributed over the
 discrete domain of components only. Although this could be written as:</p><pre class="programlisting">Cin AS DISTRIBUTION(NoComp) OF Concentration</pre>
        here we prefer to use the Array concept as it is more natural.</li>
            <li value="5">
                <p>Variable <code class="methodname">Tc</code>, representing the temperature in the cooling jacket, is solely a function of time.</p>
            </li>
        </ul>
        <p>In essence, then, Distribution is a generalisation of the Array concept that allows a Variable to vary over both continuous and discrete
 domains. Conversely, an Array is a special case of a Distribution that is used to declare Variables that are distributed over discrete domains
 only. Although Distributions can also be used for that purpose, the Array construct is retained for compatibility with other programming
 languages. Note that it is not permitted to declare a Variable that is distributed over two domains of the same type. For instance, a temperature
 field over a square domain <i class="emphasis">cannot</i> be declared as:</p><pre class="programlisting">T AS DISTRIBUTION(XDomain,XDomain) OF Temperature</pre>
        <p>The reason for this restriction is that a more complex syntax would then be required in order to distinguish between <a href="x2268.html">partial derivatives</a> of the Variable <code class="methodname">T</code> with respect to the first and the second
 independent Variables. This does not actually lead to any real restriction in functionality: Variable <code class="methodname">T</code> could easily be
 declared as:</p><pre class="programlisting">T AS DISTRIBUTION(XDomain,YDomain) OF Temperature</pre>
        <p>where <code class="methodname">XDomain</code> and <code class="methodname">YDomain</code> are declared to be identical:</p><pre class="programlisting">DISTRIBUTION_DOMAIN
 XDomain, YDomain AS [ 0.0 : Length ]</pre>
        <p>This also has the advantage of allowing different <a href="x2564.html">discretisation methods</a> to be applied to
 each of the two domains.</p>
        <div>
            <p class="Footer">&#160;</p>
            <p class="Footer">&#160;</p>
            <hr width="100%" size="0" align="center" />
            <p class="Footer">Commercial in confidence</p>
            <p class="Footer">Â© 2017 Process Systems Enterprise Limited</p>
        </div>
    </body>
</html>