<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-gb" xml:lang="en-gb" data-mc-search-type="Stem" data-mc-help-system-file-name="Model Developer Guide.xml" data-mc-path-to-help-system="../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Custom Modelling in gPROMS|Distributed Models">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Explicit and Implicit Distributed Equations</title>
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../Resources/Stylesheets/GeneralStyles.css" rel="stylesheet" />
        <script src="../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../Model Developer Guide.htm#Topics/x2505.html">Open topic with navigation</a>
        </p>
        <div>
            <div class="nocontent">
                <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="5" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                </div>
            </div>
        </div>
        <h1><a name="distributedequations"></a>Explicit and Implicit Distributed Equations</h1>
        <p>As in the case of array equations, there are two different ways of writing distributed equations in gPROMS: in an
    <i class="emphasis">implicit</i> manner or an <i class="emphasis">explicit</i> manner.</p>
        <p><i class="emphasis">Implicit specification</i>
        </p>
        <p>The first exploits the concept of <a href="x2121.html">distributed expressions</a> to define equations in an
    <i class="emphasis">implicit</i> manner. For example, the following equation sets the temperature throughout the interior of the reactor to a uniform
 value of 298K:</p><pre class="programlisting">T(0|+:ReactorLength|-,0|+:ReactorRadius|-) = 298 ;</pre>
        <p>This compact form of the equation will be automatically <a href="x1480.html">expanded</a> by gPROMS.</p>
        <p><i class="emphasis">Explicit specification</i>
        </p>
        <p>An alternative way of writing the same equation is in an <i class="emphasis">explicit</i> form by making use of <a href="x1560.html">For constructs</a>:</p><pre class="programlisting">FOR z := 0|+ TO ReactorLength|- DO
 FOR r := 0|+ TO ReactorRadius|- DO
 T(z,r) := 298 ;
 END
 END</pre>
        <p>The two forms are completely equivalent, from the points of view of both the definition of the equation and its numerical solution. Thus,
 which one you use depends on preference. However, the definition of some distributed equations require the extra flexibility afforded by the use
 of the <code class="methodname">FOR</code> construct. One such case involves equations which involve the independent Variables directly. Another case
 arises with equations involving <code class="methodname">SIGMA</code> and/or <code class="methodname">INTEGRAL</code> operators that need to be applied only to
    <i class="emphasis">some</i> of the domains of their arguments. For example, consider the chemical species conservation equations within the tubular
 reactor. These are of the form:</p>
        <p><span class="inlinemediaobject"><img src="../Resources/Images/inlineqn_tuberxrconserv.png" data-mc-conditions="Default.ScreenOnly" /></span>
        </p>
        <p>These can be written in gPROMS as follows:</p><pre class="programlisting">FOR i := 1 TO NoComp DO
 FOR z := 0|+ TO ReactorLength|- DO
 FOR r := 0|+ TO ReactorRadius|- DO
 $Concentration(i,z,r) =
 - Velocity * PARTIAL(C(i,z,r),Axial)
 + Dz * PARTIAL(C(i,z,r),Axial,Axial)
 + (Dr/r) * PARTIAL(r*PARTIAL(C(i,z,r),Radial),Radial)
 + SIGMA(Nu(i,)*r(,z,r)) ;
 END
 END
 END</pre>
        <p>Note how the range of application of each <code class="methodname">FOR</code> construct is defined so as to ensure that the equation is enforced
 only at the interior of the domain of interest. As a second example consider the energy conservation equation for the cooling jacket. This leads
 to a lumped equation that is related to the reactor energy balance through an integral term describing the heat flux over the entire length of the
 reactor:</p>
        <p><span class="inlinemediaobject"><img src="../Resources/Images/inlineqn_tuberxrflux.png" data-mc-conditions="Default.ScreenOnly" /></span>
        </p>
        <p>This can be written in gPROMS as follows:</p><pre class="programlisting">Rhoc * Cpc * Vc * $Tc = Fc * Cpc * ( TcIn - Tc )
 + U * S * INTEGRAL( z := 0:ReactorLength ; T(z,ReactorRadius)-Tc) ;</pre>
        <div>
            <p class="Footer">&#160;</p>
            <p class="Footer">&#160;</p>
            <hr width="100%" size="0" align="center" />
            <p class="Footer">Commercial in confidence</p>
            <p class="Footer">Â© 2017 Process Systems Enterprise Limited</p>
        </div>
    </body>
</html>