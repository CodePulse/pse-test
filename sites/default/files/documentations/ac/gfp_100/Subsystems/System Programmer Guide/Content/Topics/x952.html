<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-gb" xml:lang="en-gb" data-mc-search-type="Stem" data-mc-help-system-file-name="System Programmer Guide.xml" data-mc-path-to-help-system="../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="System Programming|Developing New Foreign Objects|The gPROMS Foreign Object Interface">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>The Foreign Object string procedure (optional)</title>
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/GeneralStyles.css" rel="stylesheet" />
        <link href="../Resources/TableStyles/GeneralTable.css" rel="stylesheet" />
        <script src="../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../System Programmer Guide.htm#Topics/x952.html">Open topic with navigation</a>
        </p>
        <div>
            <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix">You are here: </span><a class="MCBreadcrumbsLink" href="c251.html">System Programming</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="c271.html">Developing New Foreign Objects</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="x276.html">The gPROMS Foreign Object Interface</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">The Foreign Object string procedure (optional)</span>
            </div>
        </div>
        <h1><a name="ForeignObjectStringProcedures"></a>The Foreign Object string procedure (optional)</h1>
        <p>An optional interface procedure gFOSTR allows to implement methods which are designated to return strings as output. This is essentially
 similar to the gFOM procedure except the method output parameter will be an array of strings of fixed length of 256.</p>
        <p>In typical use of this function physical property packages return component, phase or reaction names. The Multiflash physical property
 interface, for instance, implements the method Components() which returns the components as defined in a given command file and in exactly the same
 sequence. The returned strings are then typically used to specify Ordered Set parameters or Selectors.</p>
        <p>Note that an empty Ordered Set will be constructed if the output length of the string output method is deemed to be zero and the method is used
 in the proper context. However, it will be an error if the method is used in other acceptable contexts such as assigning to a Selector value.</p>
        <p>In cases where the output length is not known exactly when the method is expected to return an array of strings as an ordered set, it is enough
 to use a reasonably larger value than the actual output length as the declared output length of the method. The gPROMS kernel will strip extraneous
 empty string values and construct a proper ordered set from the actual string outputs.</p>
        <p>In order to obtain the string array, gPROMS will call the following procedure during the run:</p>
        <ul>
            <li value="1">
                <p>gFOSTR (ForeignObjectID, ForeignObjectHandle, MethodName, OutputLength, NoInputs, InputLengths, TotalInpLength, MethodInputs,
 OutputStrings, Status)</p>
            </li>
        </ul>
        <div class="table"><a name="AEN962"></a>
            <table style="mc-table-style: url('../Resources/TableStyles/GeneralTable.css');margin-left: auto;margin-right: auto;" class="TableStyle-GeneralTable" cellspacing="0">
                <caption>Arguments of the procedure gFOSTR.</caption>
                <thead>
                    <tr class="TableStyle-GeneralTable-Head-Header1">
                        <th align="center" class="TableStyle-GeneralTable-HeadE-Column1-Header1">Name of Argument</th>
                        <th align="center" class="TableStyle-GeneralTable-HeadE-Column1-Header1">Type</th>
                        <th align="center" class="TableStyle-GeneralTable-HeadE-Column1-Header1">Description</th>
                        <th align="center" class="TableStyle-GeneralTable-HeadE-Column1-Header1">Specified on Entry</th>
                        <th align="center" class="TableStyle-GeneralTable-HeadD-Column1-Header1">Specified on Exit</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="TableStyle-GeneralTable-Body-Body1">
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body1">ForeignObjectID</td>
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body1">Character*256</td>
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body1">Full name of Foreign Object (terminated with a null).</td>
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body1">YES</td>
                        <td class="TableStyle-GeneralTable-BodyD-Column1-Body1">NO</td>
                    </tr>
                    <tr class="TableStyle-GeneralTable-Body-Body2">
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body2">ForeignObjectHandle</td>
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body2">Integer</td>
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body2">Handle for identifying Foreign Object.</td>
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body2">YES</td>
                        <td class="TableStyle-GeneralTable-BodyD-Column1-Body2">NO</td>
                    </tr>
                    <tr class="TableStyle-GeneralTable-Body-Body1">
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body1">MethodName</td>
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body1">Character*256</td>
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body1">Name of the method (terminated with a null).</td>
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body1">YES</td>
                        <td class="TableStyle-GeneralTable-BodyD-Column1-Body1">NO</td>
                    </tr>
                    <tr class="TableStyle-GeneralTable-Body-Body2">
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body2">OutputLength</td>
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body2">Integer</td>
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body2">Length of method output.</td>
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body2">YES</td>
                        <td class="TableStyle-GeneralTable-BodyD-Column1-Body2">NO</td>
                    </tr>
                    <tr class="TableStyle-GeneralTable-Body-Body1">
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body1">NoInputs</td>
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body1">Integer</td>
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body1">Number of method inputs.</td>
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body1">YES</td>
                        <td class="TableStyle-GeneralTable-BodyD-Column1-Body1">NO</td>
                    </tr>
                    <tr class="TableStyle-GeneralTable-Body-Body2">
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body2">InputLengths</td>
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body2">Integer</td>
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body2">Lengths of method inputs. An <i class="emphasis">array</i> of length NoInputs.</td>
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body2">YES</td>
                        <td class="TableStyle-GeneralTable-BodyD-Column1-Body2">NO</td>
                    </tr>
                    <tr class="TableStyle-GeneralTable-Body-Body1">
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body1">TotalInpLength</td>
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body1">Integer</td>
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body1">Total length of array MethodInputs.</td>
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body1">YES</td>
                        <td class="TableStyle-GeneralTable-BodyD-Column1-Body1">NO</td>
                    </tr>
                    <tr class="TableStyle-GeneralTable-Body-Body2">
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body2">MethodInputs</td>
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body2">Double Precision</td>
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body2">Numerical values of all the inputs for this method.</td>
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body2">YES</td>
                        <td class="TableStyle-GeneralTable-BodyD-Column1-Body2">NO</td>
                    </tr>
                    <tr class="TableStyle-GeneralTable-Body-Body1">
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body1">OutputStrings</td>
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body1">Character**256</td>
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body1">The string(s) of the method output to be returned. A character[256] <i class="emphasis">array</i> of length OutputLength.</td>
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body1">NO</td>
                        <td class="TableStyle-GeneralTable-BodyD-Column1-Body1">YES</td>
                    </tr>
                    <tr class="TableStyle-GeneralTable-Body-Body2">
                        <td class="TableStyle-GeneralTable-BodyB-Column1-Body2">Status</td>
                        <td class="TableStyle-GeneralTable-BodyB-Column1-Body2">Integer</td>
                        <td class="TableStyle-GeneralTable-BodyB-Column1-Body2">Status of requested computation. A value of 1 indicates a successful computation. A value of 0 indicates that the Foreign Object does
 not support the requested calculation. All other values signify failure.</td>
                        <td class="TableStyle-GeneralTable-BodyB-Column1-Body2">NO</td>
                        <td class="TableStyle-GeneralTable-BodyA-Column1-Body2">YES</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <p>Most of the arguments have already been encountered. Before calling gFOSTR, gPROMS copies the current values of the method arguments into a
 single array MethodInputs in the order in which they were declared. The total length of this array is computed by gPROMS and passed to the procedures
 in argument TotalInpLength. This is done only for convenience: TotalInpLength is simply the sum of the NoInputs entries in array InputLengths.</p>
        <p>The method output is returned to gPROMS in argument OutputStrings which is a character[256] array of length OutputLength.</p>
        <div>
            <p class="Footer">&#160;</p>
            <p class="Footer">&#160;</p>
            <hr width="100%" size="0" align="center" />
            <p class="Footer">Commercial in confidence</p>
            <p class="Footer">© 2017 Process Systems Enterprise Limited</p>
        </div>
    </body>
</html>