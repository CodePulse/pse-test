<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-gb" xml:lang="en-gb" data-mc-search-type="Stem" data-mc-help-system-file-name="System Programmer Guide.xml" data-mc-path-to-help-system="../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="System Programming|Developing New Foreign Processes|The FPI communication protocol">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>The gFPI procedure</title>
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/GeneralStyles.css" rel="stylesheet" />
        <link href="../Resources/TableStyles/GeneralTable.css" rel="stylesheet" />
        <script src="../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../System Programmer Guide.htm#Topics/x1279.html">Open topic with navigation</a>
        </p>
        <div>
            <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix">You are here: </span><a class="MCBreadcrumbsLink" href="c251.html">System Programming</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="c1218.html">Developing New Foreign Processes</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="x1261.html">The FPI communication protocol</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">The gFPI procedure</span>
            </div>
        </div>
        <h1><a name="ThegFPIProcedure"></a>The gFPI procedure</h1>
        <div class="informaltable"><a name="AEN1281"></a>
            <table style="mc-table-style: url('../Resources/TableStyles/GeneralTable.css');margin-left: auto;margin-right: auto;" class="TableStyle-GeneralTable" cellspacing="0">
                <tbody>
                    <tr class="TableStyle-GeneralTable-Body-Body1">
                        <td colspan="4" align="left" class="TableStyle-GeneralTable-BodyD-Column1-Body1"><i class="emphasis">Purpose:</i> To initialise the communication link between the gPROMS
 Process and the foreign process.</td>
                    </tr>
                    <tr class="TableStyle-GeneralTable-Body-Body2">
                        <td colspan="4" align="left" class="TableStyle-GeneralTable-BodyD-Column1-Body2"><i class="emphasis">Invoked:</i> Automatically, at the start of the execution of any gPROMS
 Process.</td>
                    </tr>
                    <tr class="TableStyle-GeneralTable-Body-Body1">
                        <td colspan="4" class="TableStyle-GeneralTable-BodyD-Column1-Body1"><i class="emphasis">PROCEDURE DECLARATION</i>
                        </td>
                    </tr>
                    <tr class="TableStyle-GeneralTable-Body-Body2">
                        <td colspan="4" align="left" class="TableStyle-GeneralTable-BodyD-Column1-Body2"><pre class="programlisting">SUBROUTINE gFPI (FPID, FPHANDLE, PRNAME, STATUS)
CHARACTER * 256 FPID, PRNAME
INTEGER FPHANDLE 
INTEGER STATUS</pre>
                        </td>
                    </tr>
                    <tr class="TableStyle-GeneralTable-Body-Body1">
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body1">Argument</td>
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body1">Type</td>
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body1">On Entry</td>
                        <td class="TableStyle-GeneralTable-BodyD-Column1-Body1">On Exit</td>
                    </tr>
                    <tr class="TableStyle-GeneralTable-Body-Body2">
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body2">FPID</td>
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body2">C*256</td>
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body2">Full name of Foreign Process (terminated with a null)</td>
                        <td class="TableStyle-GeneralTable-BodyD-Column1-Body2">Unchanged</td>
                    </tr>
                    <tr class="TableStyle-GeneralTable-Body-Body1">
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body1">FPHANDLE</td>
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body1">I</td>
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body1">0</td>
                        <td class="TableStyle-GeneralTable-BodyD-Column1-Body1">A unique integer assigned by the foreign process to identify its interactions with this particular execution of this specific gPROMS
 Process</td>
                    </tr>
                    <tr class="TableStyle-GeneralTable-Body-Body2">
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body2">PRNAME</td>
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body2">C*256</td>
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body2">Name of executing gPROMS Process which has initiated this call</td>
                        <td class="TableStyle-GeneralTable-BodyD-Column1-Body2">Unchanged</td>
                    </tr>
                    <tr class="TableStyle-GeneralTable-Body-Body1">
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body1">STATUS</td>
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body1">I</td>
                        <td class="TableStyle-GeneralTable-BodyE-Column1-Body1">1</td>
                        <td class="TableStyle-GeneralTable-BodyD-Column1-Body1">1 if interaction has been initiated successfully; 0 otherwise</td>
                    </tr>
                    <tr class="TableStyle-GeneralTable-Body-Body2">
                        <td colspan="4" class="TableStyle-GeneralTable-BodyD-Column1-Body2"><i class="emphasis">NOTES</i>
                        </td>
                    </tr>
                    <tr class="TableStyle-GeneralTable-Body-Body1">
                        <td colspan="4" align="left" class="TableStyle-GeneralTable-BodyD-Column1-Body1">
                            <ul>
                                <li value="1">
                                    <p>The gPROMS Process will use <i class="emphasis">both</i> its own name (PRNAME) <i class="emphasis">and</i> the FPHANDLE assigned to it
 by the foreign process in all its subsequent communications with it (see the procedures on <a href="x1347.html">gFPPAUSE</a>, <a href="x1417.html">gFPGET</a>, <a href="x1520.html">gFPSEND</a>, <a href="x1622.html">gFPSENDM</a>.</p>
                                    <p>The FPHANDLE identifier may be particularly useful for advanced applications involving interactions of multiple gPROMS Processes
 with the same foreign process, when the latter may need to know which of the former it is talking to at any given time.</p>
                                    <p>If such sophistication is not required, FPHANDLE may be left unchanged by the gFPI procedure.</p>
                                </li>
                            </ul>
                        </td>
                    </tr>
                    <tr class="TableStyle-GeneralTable-Body-Body2">
                        <td colspan="4" align="left" class="TableStyle-GeneralTable-BodyA-Column1-Body2">
                            <ul>
                                <li value="1">
                                    <p>Setting the STATUS variable to 0 within gFPI will indicate to gPROMS the existence of a problem in its communication with the
 foreign process, and will cause the execution of the gPROMS Process to be terminated immediately.</p>
                                </li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div>
            <p class="Footer">&#160;</p>
            <p class="Footer">&#160;</p>
            <hr width="100%" size="0" align="center" />
            <p class="Footer">Commercial in confidence</p>
            <p class="Footer">Â© 2017 Process Systems Enterprise Limited</p>
        </div>
    </body>
</html>