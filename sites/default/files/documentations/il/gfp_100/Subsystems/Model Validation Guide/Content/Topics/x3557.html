<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-gb" xml:lang="en-gb" data-mc-search-type="Stem" data-mc-help-system-file-name="Model Validation Guide.xml" data-mc-path-to-help-system="../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Model Validation|Experiment Design in gPROMS">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Controlling the execution of Experiment Design activities</title>
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/GeneralStyles.css" rel="stylesheet" />
        <link href="../Resources/TableStyles/GeneralTable.css" rel="stylesheet" />
        <script src="../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../Model Validation Guide.htm#Topics/x3557.html">Open topic with navigation</a>
        </p>
        <div>
            <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix">You are here: </span><a class="MCBreadcrumbsLink" href="c251.html">Model Validation</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="c2640.html">Experiment Design in gPROMS</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Controlling the execution of Experiment Design activities</span>
            </div>
        </div>
        <h1><a name="expdesign_solparam"></a>Controlling the execution of Experiment Design activities</h1>
        <p>It is possible to fine tune the numerical parameters associated with the underlying solvers used by gPROMS in the solution of an Experiment
 Design problem. This is done in the <i class="emphasis">SolutionParameters</i> section of the Process entity.</p>
        <p>The specification for the default solver is shown below:</p><pre class="programlisting">SOLUTIONPARAMETERS 
 EDSolver := "EXPDES" ;</pre>
        <p>Obviously, a specification in the simple form shown above is redundant since EXPDES is already the default solver. However, the solver has a
 number of parameters that can be used for configuring its precise behaviour for any particular problem being solved, as shown in the example
 below:</p><pre class="programlisting">SOLUTIONPARAMETERS 
 EDSolver := "EXPDES" [ "OutputLevel" := 0;
 "MINLPSolver" := "NLPSQP";
 "DASolver" := "DASOLV"];</pre>
        <dl>
            <dt>Outputlevel: An integer in the range [0, 3].</dt>
            <dd>
                <p>The amount of information generated by the solver. The following table indicates the lowest level at which different types of information are
 produced:</p>
                <div class="table"><a name="AEN3570"></a>
                    <table style="mc-table-style: url('../Resources/TableStyles/GeneralTable.css');margin-left: auto;margin-right: auto;" class="TableStyle-GeneralTable" cellspacing="0">
                        <caption>Outputlevel</caption>
                        <tbody>
                            <tr class="TableStyle-GeneralTable-Body-Body1">
                                <td class="TableStyle-GeneralTable-BodyE-Column1-Body1">0</td>
                                <td class="TableStyle-GeneralTable-BodyD-Column1-Body1">Warning and error messages, best available point after failure;</td>
                            </tr>
                            <tr class="TableStyle-GeneralTable-Body-Body2">
                                <td class="TableStyle-GeneralTable-BodyE-Column1-Body2">2</td>
                                <td class="TableStyle-GeneralTable-BodyD-Column1-Body2">Message "Evaluating contribution of experiment<tt class="replaceable"><i> name</i></tt>";</td>
                            </tr>
                            <tr class="TableStyle-GeneralTable-Body-Body1">
                                <td class="TableStyle-GeneralTable-BodyB-Column1-Body1">3</td>
                                <td class="TableStyle-GeneralTable-BodyA-Column1-Body1">Variance-covariance matrix of the parameters to be estimated (unscaled) in each optimisation step.</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </dd>
            <dt>MINLPSolver: A quoted string specifying a nonlinear programming optimisation solver.</dt>
            <dd>
                <p>The optimisation solver to be used for solving the Experiment Design optimisation problem. This can be either the standard NLPSQP solver or a third-party nonlinear programming solver. The default is NLPSQP. This parameter can
 be followed by further specifications aimed at configuring the particular solver by setting values to its own algorithmic parameters. Note that the
 solution parameter Scaling of the NLPSQP solver defines different scaling methods of the Hessian of the SQP method (which can be seen as a scaling
 of the experiment decision variables <img src="../GeneratedImages/Equations/Equation72.svg" alt="" class="_Inline_MCEquation_0 mcReset" />) whereas the SCALING_FACTOR of the parameters to be estimated in the Experiment Design entity defines the scaling of the
 parameters to be estimated.</p>
            </dd>
            <dt>DASolver: A quoted string specifying a differential-algebraic equation solver.</dt>
            <dd>
                <p>The solver to be used for integrating the model equations and calculating their sensitivity equations at each iteration of the optimisation.
 This can be either the standard DASOLV solver (see Model Developer Guide) or a third-party
 differential-algebraic equation solver. The default is DASOLV. This parameter can be followed by further specifications aimed at configuring the
 particular solver by setting values to its own algorithmic parameters.</p>
            </dd>
        </dl>
        <p>Experiment Design for parameter precision requires the calculation of first and second order sensitivities of the underlying
 differential-algebraic equation system. Second order sensitivities are calculated via so-called varied trajectories (or finite differences). This is
 similar to a finite difference calculation. The difference is that the algorithm uses the same discretisation for both the nominal solution and first
 and second order sensitivities, exploiting structure in the linear algebra calculations. Moreover, the accuracy for the first and second order
 sensitivities is retained at the same order of magnitude as the accuracy for the nominal solution.</p>
        <p>The following algorithmic parameters used by DASOLV to control the calculation of second order sensitivities are shown below. This is followed by
 a detailed description of each parameter.</p><pre class="programlisting">"DASOLV" [ "AbsolutePerturbationFactor" := 1e-07;
 "RelativePerturbationFactor" := 1e-04;
 "FiniteDifferences" := FALSE];</pre>
        <dl>
            <dt>AbsolutePerturbationFactor: A real number in the range [10<sup>-20</sup>,
 10<sup>10</sup>].</dt>
            <dd>
                <p>The absolute perturbation factor of the optimisation decision variables for calculating varied trajectories for second order sensitivity
 calculation.</p>
            </dd>
            <dt>RelativePerturbationFactor: A real number in the range [10<sup>-20</sup>,
 10<sup>10</sup>].</dt>
            <dd>
                <p>The relative perturbation factor of the optimisation decision variables for calculating varied trajectories for second order sensitivity
 calculation.</p>
            </dd>
            <dt>FiniteDifferences: A boolean value.</dt>
            <dd>
                <p>Second order sensitivities are by default calculated via so-called varied trajectories (see above). If this parameter is set to TRUE, second
 order sensitivities are calculated via ordinary finite differences on the first order sensitivities.</p>
            </dd>
        </dl>
        <p>These solution parameters can be set in addition to those stated for the DASOLV solver (see Model
 Developer Guide).</p>
        <div>
            <p class="Footer">&#160;</p>
            <p class="Footer">&#160;</p>
            <hr width="100%" size="0" align="center" />
            <p class="Footer">Commercial in confidence</p>
            <p class="Footer">Â© 2017 Process Systems Enterprise Limited</p>
        </div>
    </body>
</html>