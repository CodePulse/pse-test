<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-gb" xml:lang="en-gb" data-mc-search-type="Stem" data-mc-help-system-file-name="Model Developer Guide.xml" data-mc-path-to-help-system="../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Custom Modelling|[%=System.LinkedTitle%]|Defining Schedules|Elementary tasks">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>The Switch elementary task</title>
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/GeneralStyles.css" rel="stylesheet" />
        <script src="../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../Model Developer Guide.htm#Topics/x6000.html">Open topic with navigation</a>
        </p>
        <div>
            <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix">You are here: </span><a class="MCBreadcrumbsLink" href="Custom Modelling.htm">Custom Modelling</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="Modelling in the gPROMS Language.htm">Modelling in the gPROMS Language</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="c5411.html">Defining Schedules</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="x5897.html">Elementary tasks</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">The Switch elementary task</span>
            </div>
        </div>
        <h1><a name="SWITCH"></a>The Switch elementary task</h1>
        <p>Similar to the Reassign task, the Switch task may be used to alter the value of Selector Variables. Manipulation of a <a href="x1924.html">Selector</a> state by a Switch task forces the underlying model to change state as a result of an external action as opposed to
 a physico-chemical mechanism. Applications include the switching of a pump on or off as shown below, the replacement of a shattered bursting disc by
 an operator etc.</p>
        <div class="example" data-mc-autonum="&lt;b&gt;Example&lt;/b&gt;"><span class="autonumber"><span><b>Example</b></span></span><a name="AEN6004"></a>
            <p><b>Example 2. Manipulating selector variables using the Switch task</b>
            </p><pre class="programlisting"># MODEL Pump

 VARIABLE
 FlowIn, FlowOut AS Flowrate
 PressIn, PressOut AS Pressure
 PressRise AS Pressure

 SELECTOR
 PumpStatus AS (PumpOn,PumpOff)

 EQUATION

 FlowOut = FlowIn ;

 PressOut = PressIn + PressRise ;

 CASE PumpStatus OF
 WHEN PumpOn : FlowOut = f(PressRise) ;
 WHEN PumpOff : PressRise = 0 ;
 END # Case</pre><pre class="programlisting"># in the SCHEDULE of a Process
 SWITCH
 P101.PumpStatus := P101.PumpOn ;
 END # Switch</pre>
        </div>
        <p>In this example Model Pump has two states, <code class="methodname">PumpOn</code> and <code class="methodname">PumpOff</code>, designated by the selector
 variable <code class="methodname">Status</code> and representing whether the pump is on or off. When the pump is switched on, the pump characteristic
 relates the pressure rise across the pump to the flowrate through the pump (note that <code class="varname">f(PressRise)</code> is not valid gPROMS language:
 in this case it is short-hand for some function of the Variable <code class="varname">PressRise</code>). When the pump is switched off, the pressure rise is
 set to zero. Note that no <code class="methodname">SWITCH</code> statements are present in the <code class="methodname">CASE</code> statement because no
 physico-chemical transitions link these two states. Whether the pump is initially switched on or off forms part of the initial condition of each
 simulation experiment. This information is specified in the <code class="methodname">SELECTOR</code> section of the corresponding Process. On the other
 hand, external actions during the simulation are modelled by Switch tasks and cause dynamic changes to this status.</p>
        <div>
            <p class="Footer">&#160;</p>
            <p class="Footer">&#160;</p>
            <hr width="100%" size="0" align="center" />
            <p class="Footer">Commercial in confidence</p>
            <p class="Footer">Â© 2017 Process Systems Enterprise Limited</p>
        </div>
    </body>
</html>