<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-gb" xml:lang="en-gb" data-mc-search-type="Stem" data-mc-help-system-file-name="Model Developer Guide.xml" data-mc-path-to-help-system="../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Custom Modelling in gPROMS|Defining Schedules|Specifying the relative timing of multiple tasks">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Sequential execution – Sequence</title>
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../Resources/Stylesheets/GeneralStyles.css" rel="stylesheet" />
        <script src="../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../Model Developer Guide.htm#Topics/x6220.html">Open topic with navigation</a>
        </p>
        <div>
            <div class="nocontent">
                <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="5" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                </div>
            </div>
        </div>
        <h1><a name="AEN6220"></a>Sequential execution – Sequence</h1>
        <p>Sequential execution begins with the first task and only proceeds to the next task when execution of the preceding task has terminated.
 Sequential execution of a series of tasks is specified by enclosing them within a Sequence structure. The execution of a Sequence structure is
 complete when the execution of the last task in the structure has terminated. The gPROMS code below shows a Process for a simulation experiment
 involving a multi-component mixing tank. Unit <code class="methodname">T101</code> is a tank with two input streams, containing a mixture of components A, B
 and C. The values of the flowrates and component mole fractions of the inlet streams are specified in the Assign section. The outlet valve is closed.
 Initially, the tank contains 1000kg of component A, with additional components B and C to make up a volume of 1.5m<sup>3</sup>. The
 initial amount of component C is twice that of component B. The schedule of operation in the gPROMS code below contains only a Continue task, thus
 defining a period of continuous operation with a duration of 120 time units.</p>
        <div class="example" data-mc-autonum="&lt;b&gt;Example&lt;/b&gt;"><span class="autonumber"><span><b>Example</b></span></span><a name="AEN6225"></a>
            <p><b>Example 5. Mixing tank Process</b>
            </p><pre class="programlisting"># PROCESS SimpleSim

 UNIT
 T101 AS MixingTank

 SET # Parameter values
 WITHIN T101 DO
 NoComp := 3 ;
 NoInput := 2 ;
 ValveConstant := 10 ;
 CrossSectionalArea := 1 ; # m2
 Density := [ 950, 1000, 900 ] ; # kg/m3
 END # Within

 ASSIGN # Degrees of freedom
 WITHIN T101 DO
 # First inlet stream
 Fin(1) := 5 ;
 Xin(1,) := [ 0.12, 0.21, 0.67 ] ;
 # Second inlet stream
 Fin(2) := 15 ;
 Xin(2,) := [ 0.98, 0.01, 0.01 ] ;
 # Outlet stream valve fully closed
 ValvePosition := 0.0 ;
 END # Within

 INITIAL # Initial conditions
 WITHIN T101 DO
 HoldUp(1) = 1000 ;
 2 * Holdup(2) = HoldUp(3) ;
 TotalVolume = 1.5 ;
 END # Within

 SCHEDULE
 CONTINUE FOR 120</pre>
        </div>
        <p>The gPROMS code below illustrates how a more complicated operating procedure may be defined by using a <code class="methodname">SEQUENCE</code>
      structure in the <code class="methodname">SCHEDULE</code> section. The execution of this simulation experiment will result in the following:</p>
        <div class="procedure">
            <ol type="1">
                <li class="step" value="1">
                    <p>Simulation begins. Based on the input equations specified in the <code class="methodname">ASSIGN</code> section and the initial conditions
 specified in the <code class="methodname">INITIAL</code> section, consistent initial values are determined for all variables in the system.</p>
                </li>
                <li class="step" value="2">
                    <p>The first <code class="methodname">CONTINUE UNTIL</code> task is executed. Simulation proceeds until the volume of liquid in the tank exceeds
 3.5m<sup>3</sup>.</p>
                </li>
                <li class="step" value="3">
                    <p>The first <code class="methodname">REASSIGN</code> task is executed. The flowrate of the first inlet stream is set to zero, while that of the
 second inlet stream is increased by 50%.</p>
                </li>
                <li class="step" value="4">
                    <p>The second <code class="methodname">CONTINUE UNTIL</code> task is executed. Simulation proceeds until the volume of liquid in the tank exceeds
 5m<sup>3</sup>.</p>
                </li>
                <li class="step" value="5">
                    <p>The second <code class="methodname">REASSIGN</code> task is executed. The flowrates of both inlet streams are set to zero. The outlet valve is
 opened completely.</p>
                </li>
                <li class="step" value="6">
                    <p>The third <code class="methodname">CONTINUE UNTIL</code> task is executed. Simulation proceeds until the tank drains.</p>
                </li>
            </ol>
        </div>
        <div class="example" data-mc-autonum="&lt;b&gt;Example&lt;/b&gt;"><span class="autonumber"><span><b>Example</b></span></span><a name="AEN6253"></a>
            <p><b>Example 6. Mixing tank Process – tasks in Sequence</b>
            </p><pre class="programlisting"># PROCESS SeqSim

 ...

 SCHEDULE

 SEQUENCE

 # Fill up tank to 3.5 m3
 CONTINUE UNTIL T101.TotalVolume &gt; 3.5

 # Turn off first inlet stream and
 # increase the flowrate of the second by 50%
 REASSIGN
 WITHIN T101 DO
 Fin(1) := 0 ;
 Fin(2) := 1.5 * OLD(Fin(2)) ;
 END # Within
 END # Reassign

 # Fill up tank to 5 m3
 CONTINUE UNTIL T101.TotalVolume &gt; 5.0

 # Turn off second inlet stream and
 # open the outlet valve completely
 REASSIGN
 WITHIN T101 DO
 Fin(2) := 0 ;
 ValvePosition := 1 ;
 END # Within
 END # Reassign

 # Drain tank
 CONTINUE UNTIL T101.TotalVolume &lt; 0.01

 END # Sequence</pre>
        </div>
        <p>The equivalent graphical representation is shown below.</p>
        <div class="figure"><a name="AEN6257"></a>
            <div class="mediaobject">
                <p>
                    <img src="../Resources/Images/MDG_ScheduleTab_Example_MixingTank_Sequence.png" />
                </p>
            </div>
            <p class="FigureCaption"> Mixing tank Process – graphical representation of tasks in Sequence</p>
        </div>
        <p>There is no configuration dialog for the Sequence Task as all of the information about the order of its constituent Tasks is contained in the
 graphical representation.</p>
        <div>
            <p class="Footer">&#160;</p>
            <p class="Footer">&#160;</p>
            <hr width="100%" size="0" align="center" />
            <p class="Footer">Commercial in confidence</p>
            <p class="Footer">© 2017 Process Systems Enterprise Limited</p>
        </div>
    </body>
</html>