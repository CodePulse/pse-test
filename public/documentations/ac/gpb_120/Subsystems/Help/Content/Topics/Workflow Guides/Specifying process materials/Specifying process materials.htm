<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-gb" xml:lang="en-gb" data-mc-search-type="Stem" data-mc-help-system-file-name="Help.xml" data-mc-path-to-help-system="../../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Workflow guides|Process">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Specifying process materials</title>
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../Resources/Stylesheets/GeneralStyles.css" rel="stylesheet" />
        <link href="../../../Resources/TableStyles/GeneralTable.css" rel="stylesheet" />
        <script src="../../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../../Help.htm#Topics/Workflow Guides/Specifying process materials/Specifying process materials.htm">Open topic with navigation</a>
        </p>
        <div>
            <div class="nocontent">
                <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="5" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                </div>
            </div>
        </div>
        <h1>Specifying process materials</h1>
        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" />Physical property packages</a></span>
            <div class="MCDropDownBody dropDownBody">
                <p><span class="ProductName">gPROMS ProcessBuilder</span> can be used to simulate flowsheet models for chemical processes. These processes involve fluid material.  To predict the physical properties of these fluid material flows, a physical property application is required. A physical property application can be used to define physical property packages. A physical property package predicts thermodynamic  properties like enthalpy, density, heat capacity, viscosity and phase behaviour for fluid mixtures. <span class="ProductName">gPROMS ProcessBuilder</span> can interface to different types of physical property applications. By default, the Multiflash<sup>TM</sup> physical property application is included in every <span class="ProductName">gPROMS ProcessBuilder</span> installation. The following physical property packages can be used with <span class="ProductName">gPROMS ProcessBuilder</span>:</p>
                <ul>
                    <li value="1">Multiflash</li>
                    <li value="2">gSAFT</li>
                    <li value="3">Aspen Properties (through CAPE-OPEN 1.0 physical property interface)</li>
                    <li value="4">Hysys Properties (through CAPE-OPEN&#160;1.0 physical property interface)</li>
                    <li value="5">Chemsep properties (through CAPE-OPEN&#160;1.0 physical property interface)</li>
                    <li value="6">Any CAPE-OPEN 1.0 compliant property package</li>
                </ul>
                <p>To configure a flowsheet model to use a particular property package from a physical property application, in general, a property package needs to be defined in that application and exported. For the workflow to export a package from a certain physical property application, refer to the manuals and online help documentation for the corresponding application.</p>
                <div class="warning" data-mc-autonum="&lt;b&gt;Warning &lt;/b&gt;"><span class="autonumber"><span><b>Warning </b></span></span>
                    <p>For all property packages used, it is important that they are defined to work on a mass basis and that chemical elements at standard temperature and pressure are used as the reference state of the enthalpy. When this is not the case the flowsheet model may simulate  but will report results that are incorrect!</p>
                </div>
            </div>
        </div>
        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" />Importing physical property package files (Multiflash only)</a></span>
            <div class="MCDropDownBody dropDownBody">
                <p>In order to use a physical property package which has been defined in the Multiflash physical property application, the physical property package definition (MFL file) needs to be imported in <span class="ProductName">gPROMS ProcessBuilder</span>. This can be done by first clicking on the project containing the flowsheet model in the project tree, and then from the <span class="guimenu">Tools</span> menu, selecting <span class="guimenuitem">Import files...</span>. Browse to the location of the MFL file and select the MFL file to import it into the project. It will appear in the "Miscellaneous Files"&#160;folder of the project, in the project tree. At this point it can be used to calculate physical properties in the flowsheet model. </p>
                <div class="example" data-mc-autonum="&lt;b&gt;Example&lt;/b&gt;"><span class="autonumber"><span><b>Example</b></span></span>
                    <p>Create a new project (see <a href="../Flowsheeting/Constructing flowsheets.htm" class="MCXref xref">'Constructing flowsheets'</a> for information on how to do this) and import any MFL&#160;file created in the Multiflash environment. Alternatively, import an example MFL file included with the <span class="ProductName">gPROMS ProcessBuilder</span> installation from &lt;PSE installation directory&gt;/Multiflash&lt;version&gt;/XYLENE.MFL. </p>
                </div>
            </div>
        </div>
        <div class="MCDropDown MCDropDown_Open dropDown"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHead MCDropDownHotSpot_"><img class="MCDropDown_Image_Icon" src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" />Configuring the property package for a flowsheet model</a>
            <div class="MCDropDownBody dropDownBody">
                <p>To define which physical property package is used to calculate the properties of a certain material stream that enters the flowsheet model, the corresponding source model of the stream needs to be configured to link to this property package. To do this, open the dialog of the source model (Source_material_gML or Source_material_reversible_gML). In the "Material"&#160;field, enter a string that defines which application (i.e. physical property application name) is to be used, which physical property package from that application is used and any optional arguments for the physical property application. The format of this string depends on the physical property application. The following table shows the required format of this string for Multiflash, gSAFT and Aspen Properties (via CAPE-OPEN).</p>
                <table style="border-left-style: solid;border-left-width: 1px;border-left-color: #000000;border-right-style: solid;border-right-width: 1px;border-right-color: #000000;border-top-style: solid;border-top-width: 1px;border-top-color: #000000;border-bottom-style: solid;border-bottom-width: 1px;border-bottom-color: #000000;mc-table-style: url('../../../Resources/TableStyles/GeneralTable.css');" class="TableStyle-GeneralTable" cellspacing="0">
                    <col class="TableStyle-GeneralTable-Column-Column1" />
                    <col class="TableStyle-GeneralTable-Column-Column1" style="width: 301px;" />
                    <col class="TableStyle-GeneralTable-Column-Column1" />
                    <thead>
                        <tr class="TableStyle-GeneralTable-Head-Header1">
                            <th class="TableStyle-GeneralTable-HeadE-Column1-Header1">Property package</th>
                            <th class="TableStyle-GeneralTable-HeadE-Column1-Header1">Format for material definition string</th>
                            <th class="TableStyle-GeneralTable-HeadD-Column1-Header1">Example</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="TableStyle-GeneralTable-Body-Body1">
                            <td class="TableStyle-GeneralTable-BodyE-Column1-Body1">Multiflash</td>
                            <td class="TableStyle-GeneralTable-BodyE-Column1-Body1">
                                <p>Multiflash::mass:usehotstart:&lt;filename&gt;</p>
                            </td>
                            <td class="TableStyle-GeneralTable-BodyD-Column1-Body1">Multiflash::mass:usehotstart:WATER.MFL</td>
                        </tr>
                        <tr class="TableStyle-GeneralTable-Body-Body2">
                            <td class="TableStyle-GeneralTable-BodyE-Column1-Body2">gSAFT</td>
                            <td class="TableStyle-GeneralTable-BodyE-Column1-Body2">
                                <p>gSAFT::databank.dtb&lt;component1,component2,component3,...&gt; -mass</p>
                            </td>
                            <td class="TableStyle-GeneralTable-BodyD-Column1-Body2">
                                <p>gSAFT::VR_SW_databank.dtb&lt;water,hydrogen_fluoride&gt; -mass</p>
                                <p>gSAFT::GC_Mie_databank.dtb&lt;hydrogen_fluoride,water&gt; -mass</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-GeneralTable-Body-Body1">
                            <td class="TableStyle-GeneralTable-BodyB-Column1-Body1">Aspen Properties (via CAPE-OPEN)</td>
                            <td class="TableStyle-GeneralTable-BodyB-Column1-Body1">
                                <p>COThermoFO::ATCOProperties.COPropertySystem&lt;propertypackagename</p>
                                <p>&gt; -mass</p>
                            </td>
                            <td class="TableStyle-GeneralTable-BodyA-Column1-Body1">
                                <p>COThermoFO::ATCOProperties.COPropertySystem&lt;WAYTER.aprop&gt; -mass</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <div class="example" data-mc-autonum="&lt;b&gt;Example&lt;/b&gt;"><span class="autonumber"><span><b>Example</b></span></span>
                    <p>Create a new flowsheet model in the project (see <a href="../Flowsheeting/Constructing flowsheets.htm" class="MCXref xref">'Constructing flowsheets'</a> for information on how to do this). Drag a "Source_material_gML" type model, from the "gML Basics" library in the palette, onto the topology of the flowsheet model. Double-click on the newly created source unit model on the flowsheet to open the dialog. In the "Material"&#160;field, modify the string to point to the XYLENE.MFL Multiflash property package definition file. Upon clicking in another part to the dialog, note that the "Mass fraction"&#160;field changes to show fields for the fractions of the three components defined in the XLENE.MFL definition file. </p>
                    <div class="figure">
                        <p>
                            <img src="../../../Resources/Images/Workflow guides/Constructing flowsheets/dialog_source_mixing_example8.png" />
                        </p>
                        <p class="FigureCaption">Source model dialog after entering the "Material"&#160;physical property definition string</p>
                    </div>
                </div>
                <p>
                    <div class="tip" data-mc-autonum="&lt;b&gt;Hint&lt;/b&gt;"><span class="autonumber"><span><b>Hint</b></span></span>
                        <p>When the package definition file has not been imported properly, the filename has been misspelled or another formatting error has been made in the definition string in the "Material" field, the component names will not appear in the "Mass fraction" field. Instead a warning triangle will be shown next to the "Mass fraction"&#160;field. Hover the mouse cursor over this triangle. A message, which indicates why the physical property package could not be instantiated, will be displayed.</p>
                    </div>
                </p>
                <p>
                    <div class="tip" data-mc-autonum="&lt;b&gt;Hint&lt;/b&gt;"><span class="autonumber"><span><b>Hint</b></span></span>
                        <p>The CAPE-OPEN 1.0 physical property package interface is used to access some physical property packages (e.g. Chemsep or Aspen Properties). Using this interface requires that the package has been exported by the corresponding physical property package environment. To see which packages have been exported and are accessible by <span class="ProductName">gPROMS ProcessBuilder</span>, enter "COThermoFO::" in the "Material"&#160;field of the source model and simulate the flowsheet model. The simulation will fail but the execution output will indicate which physical property packages are available.</p>
                    </div>
                </p>
            </div>
        </div>
        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../../Skins/Default/Stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" />Using multiple physical property packages for a single flowsheet model</a></span>
            <div class="MCDropDownBody dropDownBody">
                <p>For many applications the use of a single physical property package for a flowsheet model is sufficient. However, there may be some applications where multiple physical property packages need to be used to predict properties of streams at different points in the flowsheet. This may be because, in some parts of the flowsheet, components are present that are not present in other parts.&#160;When components are known not to be present, it can be beneficial to remove these from the physical property package for parts of the flowsheet. It may also be the case that conditions, in parts of the flowsheet, are so different that a single property package will not accurately predict properties, at these different conditions. In both cases, multiple packages can be defined in the physical property package environment. These can then be used together in a single flowsheet.</p>
                <p>To use multiple physical property packages, in a single flowsheet, a "Material_adapter_gML" model is required which allows the definition of a physical properties package. This model can be found in the 'gML Basics' library. The inlet of this model is a stream, the properties of which are predicted by a specific property package (usually defined in a "Source_material_gML"&#160;type model upstream). The outlet of this model is the same stream, however the properties are now predicted by the package defined in the "Material"&#160;field of the dialog of the model. </p>
                <div class="figure">
                    <p>
                        <img src="../../../Resources/Images/Workflow guides/Constructing flowsheets/dialog_source_mixing_example9.png" />
                    </p>
                    <p class="FigureCaption">Material adapter dialog</p>
                    <p style="text-align: left;">An important constraint, for flowsheets where different physical properties packages are used, is that all streams entering a unit with multiple inlet should use the same physical property package. Therefore, when these are different, one or more material adapter(s) must be used before the unit with multiple inlets to ensure that all physical property package definitions are the same.</p>
                    <div class="figure">
                        <p>
                            <img src="../../../Resources/Images/Workflow guides/Constructing flowsheets/dialog_source_mixing_example10.png" />
                        </p>
                        <p class="FigureCaption">Use of material adapter within a flowsheet to ensure all streams entering the mixer "m1" use the same physical property package</p>
                    </div>
                </div>
            </div>
        </div>
        <div>
            <p class="Footer">&#160;</p>
            <p class="Footer">&#160;</p>
            <hr width="100%" size="0" align="center" />
            <p class="Footer">Commercial in confidence</p>
            <p class="Footer">© 2017 Process Systems Enterprise Limited</p>
        </div>
    </body>
</html>