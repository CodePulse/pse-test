<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-gb" xml:lang="en-gb" data-mc-search-type="Stem" data-mc-help-system-file-name="Physical Properties Guide.xml" data-mc-path-to-help-system="../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Physical Properties Guide|Using Physical Properties for Simple Materials|The gSAFT physical properties interface">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Using gSAFT with multiple databanks</title>
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../Resources/Stylesheets/GeneralStyles.css" rel="stylesheet" />
        <script src="../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../Physical Properties Guide.htm#Topics/Using gSAFT with multiple databanks.htm">Open topic with navigation</a>
        </p>
        <div>
            <div class="nocontent">
                <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="5" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                </div>
            </div>
        </div>
        <h1>Using gSAFT with multiple databanks</h1>
        <p>The gSAFT FO can be configured to use multiple parameter databanks.
	        In this case, the databank names are provided in the gSAFT initialization string separated by a colon (":"), as shown below:</p><pre class="programlisting" xml:space="preserve">gSAFT::databank_1.dtb:databank_2.dtb:databank_3.dtb&lt;component_1,component_2,...,component_N&gt;
</pre>
        <p>An equivalent declaration, when using a configuration file, is specified by using multiple  <span class="fileName">&lt;databank&gt;</span> elements, one for each databank, as follows:</p><pre class="programlisting" xml:space="preserve">&lt;gsaft&gt;
  &lt;databank name = "databank_1.dtb"/&gt;
  &lt;databank name = "databank_2.dtb"/&gt;
  &lt;databank name = "databank_3.dtb"/&gt;
    &lt;compound name = "component_1"/&gt;
    &lt;compound name = "component_2"/&gt;
    &lt;compound name = "component_3"/&gt;
    ...
    &lt;compound name = "component_N"/&gt;
&lt;/gsaft&gt;
</pre>
        <p>The sequence in which the parameter databanks are declared is important, as the databank declared last overwrites the parameters found in the previously declared databanks. In the above example, the values for the parameters found in "databank_3.dtb" will overwrite the values of the same parameters found in "databank_1.dtb" and "databank_2.dtb". In general note that:</p>
        <ul>
            <li value="1">The databanks used must all refer to the same theory, i.e., either SAFT-VR SW or SAFT-<span style="font-family: Symbol;">g</span> Mie.									</li>
            <li value="2">Both encrypted and non-encrypted databanks can be used together.</li>
            <li value="3">A subset of the required parameters can be specified in a databank, provided that the combination of the databanks 
	used								results to the specification of all the required parameters.</li>
        </ul>
        <p>The ability to initialise the gSAFT FO with multiple databanks allows the user to extend and/or modify parameters found in the databanks that are distributed with the gSAFT FO. Here we demonstrate some examples for databanks that refer to SAFT-VR SW and SAFT-<span style="font-family: Symbol;">g</span> Mie. The examples are based on the databank structure as explained in the relevant sections for the <a href="gSAFT Custom Databank VR SW.htm">SAFT-VR SW</a>, and <a href="gSAFT Custom Databank GC Mie.htm">SAFT-<span style="font-family: Symbol;">g</span> Mie</a> databanks.</p>
        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../Skins/Default/Stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" />SAFT-VR SW</a></span>
            <div class="MCDropDownBody dropDownBody">
                <p>In the case of SAFT-VR SW, the multiple databank feature can be used to add and/or modify compounds and compound interactions. Note that when a new compound is added, all the required elements, as listed in the <a href="gSAFT Custom Databank VR SW.htm#Compound_Element_VR_SW">relevant table</a>, must be specified. For compounds previously defined, the modification of existing parameters is accomplished by simply declaring the parameters that the user intends to modify in a separate databank. This can be illustrated by the following example, where together with the standard <span class="fileName">VR_SW_Databank.dtb</span>, a second databank is used to initialise the gSAFT FO, <span class="fileName">modified_water_parameters.xml</span>. In this case the initialization of the gSAFT FO&#160;would be as shown below:</p><pre class="programlisting" xml:space="preserve">
gSAFT::VR_SW_Databank.dtb:modified_water_parameters.xml&lt;water&gt;				
</pre>
                <p>The <span class="fileName">modified_water_parameters.xml</span> databank is used to overwrite the parameters for water found in <span class="fileName">VR_SW_Databank.dtb</span> and contains the following parameters (note that the line numbers shown below are not required and are used to better explain the example shown):</p><pre class="programlisting" xml:space="preserve">
1  &lt;gsaft theory = "vr_sw"&gt;
2    &lt;compounds&gt;		
3      &lt;compound name = "water"&gt; 
4        &lt;heatCapacity&gt;
5          &lt;b&gt;100.0&lt;/b&gt;
6        &lt;/heatCapacity&gt;
7        &lt;entropyOfFormation&gt;-250.0&lt;/entropyOfFormation&gt;
8        &lt;associationSites&gt;
9          &lt;siteMultiplicity name = "O"&gt;1&lt;/siteMultiplicity&gt;
10         &lt;siteMultiplicity name = "H"&gt;1&lt;/siteMultiplicity&gt;
11       &lt;/associationSites&gt;
12       &lt;selfInteraction&gt;
13         &lt;dispersion&gt;
14           &lt;sigma&gt;4.0e-10&lt;/sigma&gt;
15         &lt;/dispersion&gt;
16         &lt;association&gt;
17           &lt;interaction site1 = "O" site2 = "H"&gt;
18             &lt;epsilonAssoc&gt;2000.0&lt;/epsilonAssoc&gt;
19           &lt;/interaction&gt;
20         &lt;/association&gt;
21       &lt;/selfInteraction&gt;
22      &lt;/compound&gt;			
23   &lt;/compounds&gt;					
24 &lt;/gsaft&gt;					
</pre>
                <p>The parameters of water are modified in the following way:</p>
                <ul>
                    <li value="1">the <i class="emphasis">b</i> coefficient of the ideal-gas heat capacity is changed to the value 100.0 (lines 4-6).</li>
                    <li value="2">the ideal-gas entropy of formation is changed to -250.0 [J mol<sup>-1</sup> K<sup>-1</sup>] (line 7).</li>
                    <li value="3">the association scheme for water is changed to feature 1 site of type O and 1 site of type H (lines 8-11).</li>
                    <li value="4">the <i class="emphasis" style="font-family: Symbol;">s</i> parameter (segment diameter)&#160;is changed to 4.0e-10 [m], i.e., 4.0 [Å] (lines 13-15). Note that any additional dispersion potential parameter (<i class="emphasis" style="font-family: Symbol;">l</i>, <i class="emphasis" style="font-family: ;"><span style="font-family: Symbol;">e</span>/k<sub style="font-style: normal;">B</sub></i>) can be declared within the <span class="fileName">dispersion</span> element.</li>
                    <li value="5">the association energy (<i class="emphasis" style="font-family: ;"><span style="font-family: Symbol;">e</span></i><sup>HB</sup><i class="emphasis" style="font-family: ;">/k</i><sub>B</sub>) of the interaction between sites of types O and H is changed to 2000.0 [K] (lines 16-20).</li>
                </ul>
                <p>Cross interactions between compounds can be added and/or modified in a similar manner. Note that any declared interaction in terms of the values assigned to the <span class="fileName">compound1</span> and <span class="fileName">compound2</span> attributes of the <span class="fileName">crossInteraction</span> element must refer to the compounds previously declared. The same applies for the values of the <span class="fileName">site1</span> and <span class="fileName">site2</span> attributes of the <span class="fileName">interaction</span> element, which should refer to the site types previously declared for the respective compounds. Given that the contents of the <span class="fileName">modified_water_parameters.xml</span> databank previously examined are now as shown below:</p><pre class="programlisting" xml:space="preserve">
1  &lt;gsaft theory = "vr_sw"&gt;
2    &lt;crossInteractions&gt;		
3      &lt;crossInteraction compound1 = "water" compound2 = "n_decane"&gt; 
4        &lt;dispersion&gt;
5          &lt;epsilon&gt;350.0&lt;/epsilon&gt;
6          &lt;lambda&gt;1.55&lt;/lambda&gt;
7        &lt;/dispersion&gt;
8      &lt;/crossInteraction&gt;
9      &lt;crossInteraction compound1 = "water" compound2 = "MEA"&gt;
10       &lt;dispersion&gt;
11         &lt;epsilon&gt;280.0&lt;/epsilon&gt;
12       &lt;/dispersion&gt;
13       &lt;association&gt;
14         &lt;interaction site1 = "H" site2 = "O*"&gt;
15           &lt;epsilonAssoc&gt;1450.0&lt;/epsilonAssoc&gt;
16           &lt;rc&gt;1.25e-10&lt;/rc&gt;
17         &lt;/interaction&gt;
18         &lt;interaction site1 = "O" site2 = "H"&gt;
19           &lt;epsilonAssoc&gt;0.0&lt;/epsilonAssoc&gt;
20           &lt;rc&gt;0.0&lt;/rc&gt;
21         &lt;/interaction&gt;
22       &lt;/association&gt;
23     &lt;/crossInteraction&gt;
24   &lt;/crossInteractions&gt;					
25 &lt;/gsaft&gt;					
</pre>
                <p>The parameters of the compound interactions are modified in the following way:</p>
                <ul>
                    <li value="1">For the water - n-decane interaction :<ul><li value="1">the value of the unlike dispersion energy (<i class="emphasis" style="font-family: ;"><span style="font-family: Symbol;">e</span>/k<sub style="font-style: normal;">B</sub></i>) is set to 350.0 [K] (line 5).</li><li value="2">the value of the range of the unlike dispersion (<i class="emphasis" style="font-family: Symbol;">l</i>) is set to 1.55 (line 6).</li></ul></li>
                    <li value="2">For the water - MEA interaction:<ul><li value="1">the value of the unlike dispersion energy (<i class="emphasis" style="font-family: ;"><span style="font-family: Symbol;">e</span>/k<sub style="font-style: normal;">B</sub></i>) is set to 280.0 [K] (lines 10-12).</li><li value="2">the association energy between sites of type H in water and sites of type O* in MEA is set to 1450.0 [K] (line 15).</li><li value="3">the association range between sites of type H in water and sites of type O* in MEA is set to 1.25 [Å] (line 16).</li><li value="4">the association interaction between sites of type O in water and sites of type H in MEA is removed by setting both the interaction energy and range to 0 (lines 18-21).</li></ul></li>
                </ul>
                <p>Note that any parameters for the unlike dispersion interaction between compounds, that are not declared in the databank, are assigned the value calculated by the appropriate combining rule, whereas any parameters for the unlike association interactions between site types of different compounds, that are not declared in the databank, are not accounted for. Unlike association interaction parameters can only be declared for association site types previously declared in the respective compounds. In the example shown above, water has been declared to feature association sites of types H and O, and MEA sites of types O* and H. The association schemes for all associating compounds found in the <span class="fileName">VR_SW_Databank.dtb</span> are listed in the <a href="gSAFT VR SW component list.htm">relevant section</a>.</p>
            </div>
        </div>
        <div class="MCDropDown MCDropDown_Open dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../Skins/Default/Stylesheets/Images/transparent.gif" height="13" width="16" alt="Closed" data-mc-alt2="Open" />SAFT-<span style="font-family: Symbol;">g</span> Mie</a></span>
            <div class="MCDropDownBody dropDownBody">
                <p>In the case of SAFT-<span style="font-family: Symbol;">g</span> Mie the multiple databank feature can be used to add and/or modify compounds, groups, and group interactions. New compounds can be added by using the available groups and appropriately assigning the group multiplicity for each group type. Note that when a new group is added, all the required elements, as listed in the <a href="gSAFT Custom Databank GC Mie.htm#Group_Element_GC_Mie">relevant table</a>, must be specified. For groups previously defined, the modification of existing parameters is accomplished by simply declaring the parameters that the user intends to modify in a separate databank. This can be illustrated by the following example, where together with the standard <span class="fileName">GC_Mie_Databank.dtb</span>, a second databank is used to initialise the gSAFT FO, <span class="fileName">modified_water_parameters.xml</span>. In this case the initialization of the gSAFT FO&#160;would be as shown below:</p><pre class="programlisting" xml:space="preserve">
gSAFT::GC_Mie_Databank.dtb:modified_water_parameters.xml&lt;water&gt;</pre>
                <p>The <span class="fileName">modified_water_parameters.xml</span> databank is used to overwrite the parameters for the H2O group of water found in <span class="fileName">GC_Mie_Databank.dtb</span> and contains the following parameters (note that the line numbers shown below are not required and are used to better explain the example shown):</p><pre class="programlisting" xml:space="preserve">
1  &lt;gsaft theory = "gc_mie"&gt;
2    &lt;groups&gt;		
3      &lt;group name = "H2O"&gt; 
4        &lt;heatCapacity&gt;
5          &lt;b&gt;100.0&lt;/b&gt;
6        &lt;/heatCapacity&gt;
7        &lt;entropyOfFormation&gt;-250.0&lt;/entropyOfFormation&gt;
8        &lt;associationSites&gt;
9          &lt;siteMultiplicity name = "e"&gt;1&lt;/siteMultiplicity&gt;
10         &lt;siteMultiplicity name = "H"&gt;1&lt;/siteMultiplicity&gt;
11       &lt;/associationSites&gt;
12       &lt;selfInteraction&gt;
13         &lt;dispersion&gt;
14           &lt;sigma&gt;4.0e-10&lt;/sigma&gt;
15         &lt;/dispersion&gt;
16         &lt;association&gt;
17           &lt;interaction site1 = "e" site2 = "H"&gt;
18             &lt;epsilonAssoc&gt;2000.0&lt;/epsilonAssoc&gt;
19           &lt;/interaction&gt;
20         &lt;/association&gt;
21       &lt;/selfInteraction&gt;
22      &lt;/group&gt;			
23   &lt;/groups&gt;					
24 &lt;/gsaft&gt;		</pre>
                <p>The parameters of water are modified in the following way:</p>
                <ul>
                    <li value="1">the <i class="emphasis">b</i> coefficient of the ideal-gas is capacity are changed to the value 100.0 (lines 4-6).</li>
                    <li value="2">the ideal-gas entropy of formation is changed to -250.0 [J mol<sup>-1</sup> K<sup>-1</sup>] (line 7).</li>
                    <li value="3">the association scheme for water is changed to feature 1 site of type e and 1 site of type H (lines 8-11).</li>
                    <li value="4">the <i class="emphasis" style="font-family: Symbol;">s</i> parameter (segment diameter)&#160;is changed to 4.0e-10 [m], i.e., 4.0 [Å] (lines 13-15). Note that any additional dispersion potential parameter (<i class="emphasis" style="font-family: Symbol;">l</i><sup>R</sup>, <i class="emphasis" style="font-family: Symbol;">l</i><sup>A</sup>, <i class="emphasis" style="font-family: ;"><span style="font-family: Symbol;">e</span>/k<sub style="font-style: normal;">B</sub></i>) can be declared within the <span class="fileName">dispersion</span> element.</li>
                    <li value="5">the association energy (<i class="emphasis" style="font-family: ;"><span style="font-family: Symbol;">e</span><sup style="font-style: normal;">HB</sup>/k<sub style="font-style: normal;">B</sub></i>) of the interaction between sites of types e and H is changed to 2000.0 [K] (lines 16-20).</li>
                </ul>
                <p>Cross interactions between groups can be added and/or modified in a similar manner. Note that any declared interaction in terms of the values assigned to the <span class="fileName">group1</span> and <span class="fileName">group2</span> attributes of the <span class="fileName">crossInteraction</span> element must refer to groups previously declared. The same applies for the values of the <span class="fileName">site1</span> and <span class="fileName">site2</span> attributes of the <span class="fileName">interaction</span> element, which should refer to site types, previously declared for the respective groups. Given that the contents of the <span class="fileName">modified_water_parameters.xml</span> databank previously examined are now as shown below:</p><pre class="programlisting" xml:space="preserve">
1  &lt;gsaft theory = "gc_mie"&gt;
2    &lt;crossInteractions&gt;		
3      &lt;crossInteraction group1 = "H2O" group2 = "CH3"&gt; 
4        &lt;dispersion&gt;
5          &lt;epsilon&gt;350.0&lt;/epsilon&gt;
6          &lt;lambdaRepulsive&gt;25.0&lt;/lambdaRepulsive&gt;
7        &lt;/dispersion&gt;
8      &lt;/crossInteraction&gt;
9      &lt;crossInteraction group1 = "H2O" group2 = "OH"&gt;
10       &lt;dispersion&gt;
11         &lt;epsilon&gt;280.0&lt;/epsilon&gt;
12       &lt;/dispersion&gt;
13       &lt;association&gt;
14         &lt;interaction site1 = "H" site2 = "e"&gt;
15           &lt;epsilonAssoc&gt;1450.0&lt;/epsilonAssoc&gt;
16           &lt;bondingVolume&gt;100.0e-30&lt;/bondingVolume&gt;
17         &lt;/interaction&gt;
18         &lt;interaction site1 = "e" site2 = "H"&gt;
19           &lt;epsilonAssoc&gt;0.0&lt;/epsilonAssoc&gt;
19           &lt;bondingVolume&gt;0.0&lt;/bondingVolume&gt;
20         &lt;/interaction&gt;
21       &lt;/association&gt;
22     &lt;/crossInteraction&gt;
23   &lt;/crossInteractions&gt;					
24 &lt;/gsaft&gt;		</pre>
                <p>The parameters of the unlike group interactions are modified in the following way:</p>
                <ul>
                    <li value="1">For the H2O - CH3 interaction :<ul><li value="1">the value of the unlike dispersion energy (<i class="emphasis" style="font-family: ;"><span style="font-family: Symbol;">e</span>/k<sub style="font-style: normal;">B</sub></i>) is set to 350.0 [K] (line 5).</li><li value="2">the value of the repulsive exponent of the unlike dispersion (<i class="emphasis" style="font-family: Symbol;">l</i><sup>R</sup>) is set to 25.0 (line 6).</li></ul></li>
                    <li value="2">For the H2O - OH interaction:<ul><li value="1">the value of the unlike dispersion energy (<i class="emphasis" style="font-family: ;"><span style="font-family: Symbol;">e</span>/k<sub style="font-style: normal;">B</sub></i>) is set to 280.0 [K]</li><li value="2">the association energy between sites of type H on the H2O group and sites of type e on the OH group is set to 1450.0 [K] (line 15).</li><li value="3">the association bonding volume between sites of type H on the H2O group and sites of type e on the OH group is set to 100.0 [Å<sup>3</sup>] (line 16).</li><li value="4">the association interaction between sites of type e on the H2O group and sites of type H on the OH group is removed by setting both the interaction energy and bonding volume to 0 (lines 18-21).</li></ul></li>
                </ul>
                <p>Note that any parameters for the unlike dispersion interaction between groups, that are not declared in the databank, are assigned the value calculated by the appropriate combining rule, whereas any parameters for the unlike association interactions between site types of different groups, that are not declared in the databank, are not accounted for. Unlike association interaction parameters can only be declared for association site types previously declared in the respective compounds. In the example shown above, both the H2O and the OH groups have been previously declared to feature association sites of types H and e. The association schemes for all associating groups found in the <span class="fileName">GC_Mie_Databank.dtb</span> are listed in the <a href="gSAFT Gamma Mie group list.htm">relevant section</a>.</p>
            </div>
        </div>
        <div>
            <p class="Footer">&#160;</p>
            <p class="Footer">&#160;</p>
            <hr width="100%" size="0" align="center" />
            <p class="Footer">Commercial in confidence</p>
            <p class="Footer">© 2017 Process Systems Enterprise Limited</p>
        </div>
    </body>
</html>