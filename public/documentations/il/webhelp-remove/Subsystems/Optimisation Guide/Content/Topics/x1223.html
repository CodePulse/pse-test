<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-gb" xml:lang="en-gb" data-mc-search-type="Stem" data-mc-help-system-file-name="Optimisation Guide.xml" data-mc-path-to-help-system="../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Optimisation Guide|Point Optimisation">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Specification of steady-state optimisation problems</title>
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/GeneralStyles.css" rel="stylesheet" />
        <script src="../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../Optimisation Guide.htm#Topics/x1223.html">Open topic with navigation</a>
        </p>
        <div>
            <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix">You are here: </span><a class="MCBreadcrumbsLink" href="x257.html">Optimisation Guide</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="x1202.html">Point Optimisation</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Specification of steady-state optimisation problems</span>
            </div>
        </div>
        <h1><a name="AEN1223"></a>Specification of steady-state optimisation problems</h1>
        <p>A steady-state optimisation problem is a special case of a point optimisation one. As such, its specification must obey all the rules outlined
 in: <a href="x1205.html">point optimisation entities</a>.</p>
        <p>If the underlying model is a dynamic one (i.e. its Model Entities contain one or more time derivative terms of the form $x) , then the
 initial-condition of the system must be specified as <code class="methodname">STEADY_STATE</code> in the Initial section of the Process Entity.</p>
        <p>It may be considerably easier to initialise complex models from a given set of initial conditions and to integrate until steady state is
 obtained (rather than initialising using the <code class="methodname">STEADY_STATE</code> initial condition). In these cases, a special type of optimisation
 can be performed by using the SSOptTR solver and specifying:</p><pre class="programlisting">OPTIMISATION_TYPE
 STEADY_STATE</pre>
        <p>in the Optimisation entity (and omitting the <code class="methodname">HORIZON</code> and <code class="methodname">INTERVALS</code> sections).</p>
        <p>The SSOptTR solver is selected in one of two ways, depending on the type of problem being solved:</p>
        <ul>
            <li value="1">
                <p>Continuous variables only</p>
                <ul>
                    <li value="1">
                        <p>use the Solution Parameters tab to specify the value of the MINLPSolver Parameter to be SSOptTR; or</p>
                    </li>
                    <li value="2">
                        <p>specify the following in the <code class="methodname">SOLUTIONPARAMETERS</code> section of the Process</p><pre class="programlisting">DOSolver := "CVP_SS" [
 "MINLPSolver" := "SSOptTR"
 ]</pre>
                    </li>
                </ul>
            </li>
            <li value="2">
                <p>Mixed integer optimisation</p>
                <ul>
                    <li value="1">
                        <p>use the Solution Parameters tab to specify the value of the MINLPSolver Parameter to be OAERAP and the value of its NLPSolver Parameter
 to be SSOptTR; or</p>
                    </li>
                    <li value="2">
                        <p>specify the following in the <code class="methodname">SOLUTIONPARAMETERS</code> section of the Process</p><pre class="programlisting">DOSolver := "CVP_SS" [
 "MINLPSolver" := "OAERAP" [
 "NLPSolver" := "SSOptTR"
 ]
 ]</pre>
                    </li>
                </ul>
            </li>
        </ul>
        <p>Finally, the time horizon needs to be specified. A simulation experiment can be performed to identify how long is required for steady state to
 be established. This value is then specified using the TimeRelaxationHorizon Solution Parameter for SSOptTR. This can be done using the Solution
 Parameters tab or by specifying the following in gPROMS language (for a continuous problem):</p><pre class="programlisting">SOLUTIONPARAMETERS
 DOSolver := "CVP_SS" [
 "MINLPSolver" := "SSOptTR" [
 "TimeRelaxationHorizon" := 20000.0
 ]
 ]</pre>
        <p>The default value is 20000, but can be anything from 10<sup>-20</sup> to 10<sup>20</sup> depending on the
 problem.</p>
        <p>The SSOptTR solver takes advantage of nature of the steady-state optimisation problem to increase the performance of the optimisation relative
 to a full dynamic optimisation. One of the largest computation overheads associated with dynamic optimisation is the integration of the sensitivity
 equations, which provide the optimiser with the gradients of the constraints and objective function with respect to the decision variables. For
 steady-state optimisations, SSOptTR need not perform these expensive sensitivity integrations until the steady-state solution has been found, thus
 significantly reducing the computational effort.</p>
        <p>Another feature of the steady-state optimisation problem that can be exploited relates to reinitialisation. In a dynamic optimisation problem,
 the system needs to be reinitialised for every minor optimisation iteration (where the decision variables are optimised along a fixed search
 direction) and this means reinitialising using the initial conditions and performing a full sensitivity integration each time. The SSOptTR solver can
 simply use the steady-state solution from the last minor iteration to reinitialise the problem and then perform the sensitivity evaluation, thus
 avoiding the more complex initialisation and sensitivity integration. This behaviour can be controlled using the following Solution Parameter:</p><pre class="programlisting">"MINLPSolver" := "SSOptTR" [
 "TimeRelaxationInitialConditions" := "MAJOR"
 ]</pre>
        <p>The three possible values are</p>
        <ul>
            <li value="1">
                <p><code class="varname">INITIAL</code>: all reinitialisations are performed using the initial conditions and initial values
 (<code class="methodname">PRESET</code>) specified in the Process;</p>
            </li>
            <li value="2">
                <p><code class="varname">MAJOR</code> (default): reinitialisations are performed using the solution of the last successful major iteration as the
 initial guess (each major iteration determines a new search direction for the decision variables);</p>
            </li>
            <li value="3">
                <p><code class="varname">MINOR</code>: reinitialisations are performed using the solution of the last successful minor iteration as the initial
 guess.</p>
            </li>
        </ul>
        <p>Although the reinitialisation strategies outlined above can significantly reduce the solution time of steady-state optimisation problems, there
 may be cases where the integration to obtain steady-state during the initial iteration is difficult and time consuming. This behaviour can occur if
 there are Selector Variables in the Model and these switch many times during the integration from the initial condition to the steady state. In such
 cases, the expensive initial integration can be bypassed by using Saved Variable Sets to specify the steady-state solution, thus further reducing the
 solution time. A Saved Variables Set can be specified for use in the optimisation by including the following command:</p><pre class="programlisting">RESTORE "<i class="emphasis">Filename</i>"</pre>
        <p>where <i class="emphasis"><code class="varname">Filename</code></i> is the name of a Saved Variable Set. It is also possible to specify more than one Saved
 Variable Set: this can be done by including several <code class="varname">RESTORE</code> commands and/or by providing a list of Saved Variable Sets to a single
      <code class="varname">RESTORE</code> command. For example:</p><pre class="programlisting">RESTORE "<i class="emphasis">Filename1</i>", "<i class="emphasis">Filename2</i>", "<i class="emphasis">Filename3</i>"</pre>The
 Saved Variable Sets may also be specified using a ComboBox in the Optimisation entity. This will contain all of the Saved Variable Sets in the
 Project and one can select one of them for use in the steady-state optimisation.<div class="figure"><a name="AEN1288"></a><div class="mediaobject"><p><img src="../Resources/Images/AddingSVS.png" /></p></div><p class="FigureCaption"> Selecting a Saved Variable Set for use in a steady-state optimisation</p></div><p>The Saved Variable Set can be selected by using the mouse or by typing in the name in the ComboBox (where <b class="keycap">CTRL</b>-<b class="keycap">space</b> may be used to autocomplete the selection).</p><p>During initial iteration, the SSOptTR solver will first initialise the system using the initial conditions specified in the Process. Once
 complete, the <code class="varname">RESTORE</code> will be performed: all differential and Selector Variables in the system that are present in the
 SavedVariableSet will be restored and the system reinitialised. This will be used as the initial point of the time trajectory used for the
 steady-state optimisation. When performing mixed integer optimisation, this procedure is applied only to the initial relaxed NLP problem.</p><p>To summarise, there are two ways to perform a steady-state optimisation:</p><ul><li value="1"><p>If the model solves quickly and is robust using the <code class="methodname">STEADY_STATE</code> initial condition, then</p><ul><li value="1"><p>perform a Point optimisation by specifying </p><pre class="programlisting">OPTIMISATION_TYPE
 POINT</pre> in the Optimisation entity, omitting the <code class="methodname">HORIZON</code> and <code class="methodname">INTERVALS</code> sections and do
 not use the SSOptTR solver;</li></ul></li><li value="2"><p>otherwise,</p><ul><li value="1"><p>perform a Steady-State optimisation by specifying </p><pre class="programlisting">OPTIMISATION_TYPE
 STEADY_STATE</pre> in the Optimisation entity, omitting the <code class="methodname">HORIZON</code> and <code class="methodname">INTERVALS</code> sections
 and using the SSOptTR solver. Specify the horizon required for steady state to be reached using the <code class="varname">TimeRelaxationHorizon</code>
              Solution Parameter of the SSOptTR solver.</li></ul></li></ul><div><p class="Footer">&#160;</p><p class="Footer">&#160;</p><hr width="100%" size="0" align="center" /><p class="Footer">Commercial in confidence</p><p class="Footer">© 2016 Process Systems Enterprise Limited</p></div></body>
</html>