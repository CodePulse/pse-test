<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-gb" xml:lang="en-gb" data-mc-search-type="Stem" data-mc-help-system-file-name="Model Developer Guide.xml" data-mc-path-to-help-system="../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Custom Modelling|[%=System.LinkedTitle%]|Ordered Sets|Ordered Set Operations and Referencing Rules">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Ordered Set Referencing Rules</title>
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/GeneralStyles.css" rel="stylesheet" />
        <script src="../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../Model Developer Guide.htm#Topics/x3446.html">Open topic with navigation</a>
        </p>
        <div>
            <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix">You are here: </span><a class="MCBreadcrumbsLink" href="Custom Modelling.htm">Custom Modelling</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="Modelling in the gPROMS Language.htm">Modelling in the gPROMS Language</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="c3318.html">Ordered Sets</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="x3391.html">Ordered Set Operations and Referencing Rules</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Ordered Set Referencing Rules</span>
            </div>
        </div>
        <h1><a name="md_SetReferencing"></a>Ordered Set Referencing Rules</h1>
        <p>In Parameter specifications, Equations and Assign statements, one may refer to individual elements, slices or the whole Array, as in the case
 of <a href="c1185.html">integer domains</a>. Of course, rather than using integers to refer to individual elements or define slices, the names
 of the elements in the Ordered Sets are used. The two examples below illustrate the specification of a single element of a Parameter and an
 Assignment of a slice of a Variable.</p><pre class="programlisting">SET
 FormulaWeight('H2') := 2 ;</pre><pre class="programlisting">ASSIGN
 Flowrate('CH4':'C4H10') := 0.0 ;</pre>
        <p>In the second example above, the flowrates of all the Array elements in the Ordered Set from 'CH4' to 'C4H10' will be set to 0.</p>
        <p>In this next example, a material balance Equation is written (implicitly) for all Species: </p><pre class="programlisting">$M = Fin*Xin – Fout*X ;</pre>
        <p>where <code class="varname">M</code>, <code class="varname">Xin</code> and <code class="varname">X</code> are Arrays over the domain 'Species'.</p>
        <p>As with Integer domains, FOR loops can be used instead of implicit declarations of Array Equations:</p><pre class="programlisting">FOR i IN Species DO 
 $M(i) = Fin*Xin(i) - Fout*X(i) ;
END
 </pre>
        <p>Multiple domains are handled quite easily. The example below is a material balance for all Species with generation terms summed over the
 Reactions domain:</p><pre class="programlisting">$M = Fin*Xin – Fout*Xout + SIGMA( (Nu(,Reactions)*Rate(Reactions) ) ;</pre>
        <p>(For clarity, this may also have been declared explicitly.)</p>
        <p>More sophisticated expressions involving set operations and slices are also possible; some examples are given <a href="x3515.html">here</a>.</p>
        <div>
            <p class="Footer">&#160;</p>
            <p class="Footer">&#160;</p>
            <hr width="100%" size="0" align="center" />
            <p class="Footer">Commercial in confidence</p>
            <p class="Footer">© 2017 Process Systems Enterprise Limited</p>
        </div>
    </body>
</html>